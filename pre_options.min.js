!function(e,t){if("function"==typeof define&&define.amd)define(["require","lodash"],function(n,o){var r=t(o);return n.specified("khoaijs")&&n(["khoaijs"],function(e){e.PreOptions=r}),e.PreOptions=r,r});else{var n=t(e._);e.Khoai&&(e.Khoai.PreOptions=n),e.PreOptions=n}}(this,function(e){"use strict";function t(){}function n(t,n,r,i,s){if(o.hasOwnProperty(r))throw new Error("Destination Pre Options is already exists");n=e.castArray(n);var p=e.filter(n,function(e){return!o.hasOwnProperty(e)});if(!e.isEmpty(p))throw new Error("PreOptions are not defined:"+p.join(", "));if(e.isObject(i)||(i={}),s)o[r]={options:i,base:n};else{var a={};e.each(n,function(n){e.extend(a,t.get(n))}),e.extend(i,a),o[r]={options:i,base:[]}}}var o={};return t.prototype.define=function(e,t,n){return!(!n&&o.hasOwnProperty(e))&&(o[e]={options:t,base:[]},!0)},t.prototype.has=function(e){return o.hasOwnProperty(e)},t.prototype.update=function(t,n){return!!o.hasOwnProperty(t)&&(e.extend(o[t].options,n),!0)},t.prototype.updateBase=function(e,t){return!!o.hasOwnProperty(e)&&(o[e].base=t,!0)},t.prototype.get=function(t,n){if(!o.hasOwnProperty(t))throw new Error('Pre Options "'+t+'" is undefined');var r=this,i={};return e.each(e.castArray(o[t].base),function(t){e.extend(i,r.get(t))}),e.extend(i,e.cloneDeep(o[t].options),e.isObject(n)?n:{}),i},t.prototype.extend=function(e,t,o){n(this,e,t,o,!0)},t.prototype.baseOn=function(e,t,o){n(this,e,t,o,!1)},t.prototype.list=function(t){return t?e.cloneDeep(o):e.keys(o)},t.prototype.reset=function(){o={}},new t});
//# sourceMappingURL=pre_options.min.js.map
